# Сайт питомника для собак "Bony"

## Описание проекта

"Bony" - это веб-приложение, разработанное на Django, предназначенное для питомника собак. Оно позволяет пользователям просматривать информацию о различных породах и отдельных собаках, добавлять собак в свой профиль, оставлять отзывы и многое другое. Проект включает в себя систему аутентификации пользователей, инструменты для администрирования (для суперпользователей) и функциональность для поддержания связи с владельцами собак.

## Функциональность

*   **Аутентификация пользователей:**
    *   Регистрация новых пользователей с подтверждением по email.
    *   Вход в систему для зарегистрированных пользователей.
    *   Восстановление пароля через email.
    *   Выход из системы.

*   **Просмотр информации о породах:**
    *   Список пород с описаниями и изображениями.
    *   Поиск пород по названию.

*   **Просмотр информации о собаках:**
    *   Список всех собак с пагинацией.
    *   Поиск собак по кличке или имени владельца.
    *   Детальная информация о каждой собаке, включая породу, возраст, описание, фотографии и родословную.

*   **Управление профилем пользователя:**
    *   Просмотр информации о профиле.
    *   Редактирование профиля (email, и др.).
    *   Изменение пароля.
    *   Добавление/удаление собак из личного профиля.

*   **Отзывы о собаках:**
    *   Просмотр отзывов о каждой собаке.
    *   Добавление новых отзывов (только для зарегистрированных пользователей).
    *   Редактирование и удаление собственных отзывов (или для администраторов).

*   **Администрирование (только для суперпользователей):**
    *   Управление пользователями (просмотр, удаление, назначение прав администратора).
    *   Управление собаками и породами.

*   **Дополнительные возможности:**
    *   Уведомления по email владельцам собак о количестве просмотров их карточки.
    *   Кэширование страниц для повышения производительности.

## Структура шаблонов

Шаблоны проекта организованы в соответствии с принципами Django и разделены между приложениями `dogs` и `users`. Ниже приведено описание основных шаблонов и их назначения:

**Приложение `dogs`:**

*   `dogs/index.html`: Главная страница сайта с приветственной информацией.
*   `dogs/breeds.html`: Страница со списком пород собак, реализована пагинация и поиск.
*   `dogs/dogs_list.html`: Страница со списком всех собак с пагинацией и поиском. Предусмотрена возможность добавления отзывов и добавления собак в профиль.
*   `dogs/dog_read.html`: Страница с детальной информацией о конкретной собаке, включая просмотры и родословную (если она указана).
*   `dogs/dog_create.html`: Форма для создания новой собаки (доступна авторизованным пользователям).
*   `dogs/dog_update.html`: Форма для редактирования информации о собаке (доступна владельцу собаки или администратору).
*   `dogs/dog_confirm_delete.html`: Страница подтверждения удаления собаки (доступна администратору или владельцу).
*   `dogs/review_update.html`: Форма для редактирования отзыва о собаке.
*   `dogs/review_confirm_delete.html`: Страница подтверждения удаления отзыва.
*   `dogs/breed_detail.html`: Страница с детальной информацией о породе.

**Приложение `users`:**

*   `users/register.html`: Страница регистрации нового пользователя.
*   `users/login.html`: Страница входа для существующих пользователей.
*   `users/welcome.html`: Страница приветствия после успешной регистрации или входа.
*   `users/logout_success.html`: Страница, отображаемая после успешного выхода из системы.
*   `users/user_profile.html`: Страница профиля пользователя, где отображается информация об аккаунте и список добавленных собак.
*   `users/edit_profile.html`: Форма для редактирования информации профиля пользователя.
*   `users/password_reset_request.html`: Форма для запроса сброса пароля.
*   `users/password_reset_email.html`: Шаблон письма, отправляемого пользователю с новым паролем.
*   `users/user_list.html`: Страница со списком всех пользователей (доступна только суперпользователю).
*   `users/user_detail.html`: Страница с детальной информацией о пользователе.
*   `users/user_confirm_set_admin.html`: Страница подтверждения назначения/снятия прав администратора.
*   `users/user_confirm_delete.html`: Страница подтверждения удаления пользователя.
*   `users/remove_dog.html`: Шаблон для подтверждения удаления собаки из профиля (УДАЛИТЬ ЕГО!)

**Общие шаблоны:**

*   `base.html`: Базовый шаблон, который используется для всех страниц сайта. Содержит общую структуру, навигацию, подключение стилей и скриптов.

## Запуск проекта

1.  **Клонирование репозитория:**

    ```bash
    git clone <ваш_репозиторий>
    cd <название_папки_проекта>
    ```

2.  **Создание и активация виртуального окружения:**

    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Linux/macOS
    venv\Scripts\activate  # Для Windows
    ```

3.  **Установка зависимостей:**

    ```bash
    pip install -r requirements.txt
    ```

4.  **Настройка базы данных:**

    *   Установите MS SQL Server и настройте подключение.
    *   Отредактируйте переменные окружения в файле `.env` (создайте его на основе примера, если его нет) и укажите параметры подключения к вашей базе данных (имя базы данных, имя пользователя, пароль, хост).  Пример содержимого `.env`:

        ```
        DJANGO_SECRET_KEY=your_secret_key
        DJANGO_DATABASE_NAME=Bony
        DJANGO_DATABASE_USER=your_db_user
        DJANGO_DATABASE_PASSWORD=your_db_password
        DJANGO_DATABASE_HOST=your_db_host
        DJANGO_DATABASE_PORT=1433  # Optional, defaults to 1433 if not specified
        ```

    *   Запустите скрипт `database_utils.py` для создания базы данных (если она еще не создана):

        ```bash
        python database_utils.py
        ```

5.  **Применение миграций:**

    ```bash
    python manage.py migrate
    ```

6.  **Создание суперпользователя:**

    ```bash
    python manage.py createsuperuser
    ```
    * (Суперпользователь также создается автоматически при первом запуске, смотрите `users/signals.py`)

7.  **Запуск сервера разработки:**

    ```bash
    python manage.py runserver
    ```

8.  **Открытие сайта в браузере:**

    *   Перейдите по адресу `http://127.0.0.1:8000/` (или адресу, указанному в консоли при запуске сервера).

## Дополнительные настройки

*   **Настройка email:**
    *   Укажите параметры SMTP вашего почтового сервера в файле `settings.py` (EMAIL_HOST, EMAIL_PORT, EMAIL_HOST_USER, EMAIL_HOST_PASSWORD, EMAIL_USE_TLS/EMAIL_USE_SSL).
*   **Настройка кэширования:**
    *   При необходимости настройте параметры кэширования в `settings.py` (CACHES, CACHE_MIDDLEWARE_ALIAS, CACHE_MIDDLEWARE_SECONDS, CACHE_MIDDLEWARE_KEY_PREFIX).  Проверьте, что Redis сервер запущен, если вы используете Redis для кэширования.

## Используемые библиотеки

*  asgiref==3.8.1
*  Django==4.2.12
*  django-autoslug==1.9.9
*  django-mssql-backend==2.8.1
*  django-redis==5.4.0
*  django-widget-tweaks==1.5.0
*  mssql-django==1.5
*  pillow==11.1.0
*  pyodbc==5.2.0
*  python-dotenv==1.0.1
*  pytz==2025.1
*  redis==5.2.1
*  sqlparse==0.5.3
*  tzdata==2025.2

## Авторы

*   [Хакимов Нияз Фанилевич]

## Лицензия

[]

## Благодарности

[Преподователю :3]